<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./Index.css" />
    <title>PWS Informatica</title>
  </head>

  <body>
    <!-- ====== OFF-SCREEN MENU ====== -->
    <div class="off-screen-menu">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="Overons.html">Over ons</a></li>
        <li><a href="Deelvraag1.html">Deelvraag 1</a></li>
        <li><a href="Deelvraag2.html">Deelvraag 2</a></li>
        <li><a href="Deelvraag3.html">Deelvraag 3</a></li>
        <li><a href="Deelvraag4.html">Deelvraag 4</a></li>
        <li><a href="Deelvraag5.html">Deelvraag 5</a></li>
        <li><a href="Quiz.html">Quiz</a></li>
      </ul>
    </div>

    <!-- ====== NAVBAR ====== -->
    <nav>
      <div class="ham-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <h1 class="nav-title">Profielwerkstuk Informatica</h1>
    </nav>

    <!-- ====== CHATBOT START ====== -->
    <button id="chat-toggle">ðŸ’¬</button>

    <div id="chat-container">
      <div id="chat-header">Chatbot</div>
      <div id="chat-box"></div>
      <div id="chat-input-area">
        <input id="user-input" type="text" placeholder="Typ een bericht..." />
        <button id="send-btn">âž¤</button>
      </div>
    </div>

    <script>
      const chatToggle = document.getElementById("chat-toggle");
      const chatContainer = document.getElementById("chat-container");
      const chatBox = document.getElementById("chat-box");
      const sendBtn = document.getElementById("send-btn");
      const userInput = document.getElementById("user-input");

      // Chat openen/sluiten
      chatToggle.onclick = () => {
        const isOpen = chatContainer.style.display === "flex";
        chatContainer.style.display = isOpen ? "none" : "flex";

        // Toon welkomsbericht bij openen
        if (!isOpen && chatBox.innerHTML.trim() === "") {
          addMessage("Bot", "Hoi! ðŸ‘‹ Waarmee kan ik je helpen?");
        }
      };

      // Bericht verzenden
      sendBtn.onclick = sendMessage;
      userInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") sendMessage();
      });

      function sendMessage() {
        const message = userInput.value.trim();
        if (message === "") return;

        addMessage("Jij", message);
        userInput.value = "";

        let antwoord = "";
        const vraag = message.toLowerCase();

        // Lijst van hallo-variaties
        const halloVariaties = [
          "hallo",
          "hoi",
          "hey",
          "hee",
          "heee",
          "hallo daar",
          "hi",
          "yo",
          "heeey",
          "heey",
          "haai",
          "hai"
        ];

        // Check hallo
        if (halloVariaties.some(h => vraag.includes(h))) {
          antwoord = "Hallo! Waar kan ik je mee helpen? ðŸ˜Š";
        } else if (
          vraag.includes("quiz") ||
          vraag.includes("quizz") ||
          vraag.includes("spel") ||
          vraag.includes("test")
        ) {
          antwoord = "Open het menu links bovenin â€” helemaal onderaan vind je de knop â€˜Quizâ€™. ðŸŽ¯";
        } else {
          antwoord = "Bij andere vragen kun je het gewoon vragen aan de mensen bij het kraampje! ðŸ˜Š";
        }

        setTimeout(() => addMessage("Bot", antwoord), 500);
      }

      function addMessage(sender, text) {
        const msg = document.createElement("div");

        // Voeg juiste class toe voor chatballonnen
        if (sender === "Bot") {
          msg.className = "bot-msg";
        } else {
          msg.className = "user-msg";
        }

        msg.innerHTML = `<strong>${sender}:</strong> ${text}`;
        chatBox.appendChild(msg);
        chatBox.scrollTop = chatBox.scrollHeight;
      }
    </script>
    <!-- ====== CHATBOT END ====== -->

    <script src="./Menu.js"></script>
  </body>
</html>
